
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>ambra_sdk.service.entrypoints.generated.session &#8212; Ambra-SDK 0.0.1 documentation</title>
    <link rel="stylesheet" href="../../../../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../../../../../" src="../../../../../_static/documentation_options.js"></script>
    <script src="../../../../../_static/jquery.js"></script>
    <script src="../../../../../_static/underscore.js"></script>
    <script src="../../../../../_static/doctools.js"></script>
    <script src="../../../../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
   
  <link rel="stylesheet" href="../../../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <h1>Source code for ambra_sdk.service.entrypoints.generated.session</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot; Session.</span>

<span class="sd">Do not edit this file by hand.</span>
<span class="sd">This is generated by parsing api.html service doc.</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">ambra_sdk.exceptions.service</span> <span class="kn">import</span> <span class="n">AuthFailed</span>
<span class="kn">from</span> <span class="nn">ambra_sdk.exceptions.service</span> <span class="kn">import</span> <span class="n">BadPassword</span>
<span class="kn">from</span> <span class="nn">ambra_sdk.exceptions.service</span> <span class="kn">import</span> <span class="n">Blocked</span>
<span class="kn">from</span> <span class="nn">ambra_sdk.exceptions.service</span> <span class="kn">import</span> <span class="n">Disabled</span>
<span class="kn">from</span> <span class="nn">ambra_sdk.exceptions.service</span> <span class="kn">import</span> <span class="n">Expired</span>
<span class="kn">from</span> <span class="nn">ambra_sdk.exceptions.service</span> <span class="kn">import</span> <span class="n">InvalidCode</span>
<span class="kn">from</span> <span class="nn">ambra_sdk.exceptions.service</span> <span class="kn">import</span> <span class="n">InvalidCredentials</span>
<span class="kn">from</span> <span class="nn">ambra_sdk.exceptions.service</span> <span class="kn">import</span> <span class="n">InvalidPin</span>
<span class="kn">from</span> <span class="nn">ambra_sdk.exceptions.service</span> <span class="kn">import</span> <span class="n">InvalidSid</span>
<span class="kn">from</span> <span class="nn">ambra_sdk.exceptions.service</span> <span class="kn">import</span> <span class="n">InvalidUrl</span>
<span class="kn">from</span> <span class="nn">ambra_sdk.exceptions.service</span> <span class="kn">import</span> <span class="n">InvalidVendor</span>
<span class="kn">from</span> <span class="nn">ambra_sdk.exceptions.service</span> <span class="kn">import</span> <span class="n">Lockout</span>
<span class="kn">from</span> <span class="nn">ambra_sdk.exceptions.service</span> <span class="kn">import</span> <span class="n">MissingFields</span>
<span class="kn">from</span> <span class="nn">ambra_sdk.exceptions.service</span> <span class="kn">import</span> <span class="n">MissingInformation</span>
<span class="kn">from</span> <span class="nn">ambra_sdk.exceptions.service</span> <span class="kn">import</span> <span class="n">NoOauth</span>
<span class="kn">from</span> <span class="nn">ambra_sdk.exceptions.service</span> <span class="kn">import</span> <span class="n">NotFound</span>
<span class="kn">from</span> <span class="nn">ambra_sdk.exceptions.service</span> <span class="kn">import</span> <span class="n">OtherOauth</span>
<span class="kn">from</span> <span class="nn">ambra_sdk.exceptions.service</span> <span class="kn">import</span> <span class="n">PasswordReset</span>
<span class="kn">from</span> <span class="nn">ambra_sdk.exceptions.service</span> <span class="kn">import</span> <span class="n">PinExpired</span>
<span class="kn">from</span> <span class="nn">ambra_sdk.exceptions.service</span> <span class="kn">import</span> <span class="n">ValidationFailed</span>
<span class="kn">from</span> <span class="nn">ambra_sdk.exceptions.service</span> <span class="kn">import</span> <span class="n">WhitelistLockout</span>
<span class="kn">from</span> <span class="nn">ambra_sdk.service.query</span> <span class="kn">import</span> <span class="n">QueryO</span>

<span class="k">class</span> <span class="nc">Session</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Session.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">api</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_api</span> <span class="o">=</span> <span class="n">api</span>

    
<div class="viewcode-block" id="Session.login"><a class="viewcode-back" href="../../../../../referencies/service_api.html#ambra_sdk.service.entrypoints.Session.login">[docs]</a>    <span class="k">def</span> <span class="nf">login</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">login</span><span class="p">,</span>
        <span class="n">password</span><span class="p">,</span>
        <span class="n">account_login</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">account_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">email</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">location</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">new_password</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">validate_session</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">vanity</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Login.</span>
<span class="sd">        :param login: The user account_login or email address</span>
<span class="sd">        :param password: The password</span>
<span class="sd">        :param account_login: account_login</span>
<span class="sd">        :param account_name: account_name</span>
<span class="sd">        :param email: email</span>
<span class="sd">        :param location: Login location. (optional)</span>
<span class="sd">        :param new_password: Change the password or account password to this. (optional)</span>
<span class="sd">        :param validate_session: If you would like to validate an existing session rather than create a new one pass in the sid of the session to valid in this parameter. It will check if the session is still valid and the credentials are for the session. (optional)</span>
<span class="sd">        :param vanity: The account vanity name. (optional)</span>

<span class="sd">        Notes:</span>
<span class="sd">        email OR account_name AND account_login - The users email address or the account name and account_login (DEPRECIATED - Use login and vanity)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request_data</span> <span class="o">=</span> <span class="p">{</span>
           <span class="s1">&#39;vanity&#39;</span><span class="p">:</span> <span class="n">vanity</span><span class="p">,</span>
           <span class="s1">&#39;validate_session&#39;</span><span class="p">:</span> <span class="n">validate_session</span><span class="p">,</span>
           <span class="s1">&#39;password&#39;</span><span class="p">:</span> <span class="n">password</span><span class="p">,</span>
           <span class="s1">&#39;new_password&#39;</span><span class="p">:</span> <span class="n">new_password</span><span class="p">,</span>
           <span class="s1">&#39;location&#39;</span><span class="p">:</span> <span class="n">location</span><span class="p">,</span>
           <span class="s1">&#39;email&#39;</span><span class="p">:</span> <span class="n">email</span><span class="p">,</span>
           <span class="s1">&#39;account_name&#39;</span><span class="p">:</span> <span class="n">account_name</span><span class="p">,</span>
           <span class="s1">&#39;account_login&#39;</span><span class="p">:</span> <span class="n">account_login</span><span class="p">,</span>
           <span class="s1">&#39;login&#39;</span><span class="p">:</span> <span class="n">login</span><span class="p">,</span>
        <span class="p">}</span>
	
        <span class="n">errors_mapping</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">errors_mapping</span><span class="p">[</span><span class="s1">&#39;BAD_PASSWORD&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">BadPassword</span><span class="p">(</span><span class="s1">&#39;The new_password does not meet the password requirements&#39;</span><span class="p">)</span>
        <span class="n">errors_mapping</span><span class="p">[</span><span class="s1">&#39;BLOCKED&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Blocked</span><span class="p">(</span><span class="s1">&#39;The user is blocked from the system&#39;</span><span class="p">)</span>
        <span class="n">errors_mapping</span><span class="p">[</span><span class="s1">&#39;DISABLED&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Disabled</span><span class="p">(</span><span class="s1">&#39;The user is disabled and needs to be /user/enabled to allow access&#39;</span><span class="p">)</span>
        <span class="n">errors_mapping</span><span class="p">[</span><span class="s1">&#39;INVALID_CREDENTIALS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">InvalidCredentials</span><span class="p">(</span><span class="s1">&#39;Invalid user name or password.&#39;</span><span class="p">)</span>
        <span class="n">errors_mapping</span><span class="p">[</span><span class="s1">&#39;LOCKOUT&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Lockout</span><span class="p">(</span><span class="s1">&#39;Too many failed attempts&#39;</span><span class="p">)</span>
        <span class="n">errors_mapping</span><span class="p">[</span><span class="s1">&#39;MISSING_FIELDS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">MissingFields</span><span class="p">(</span><span class="s1">&#39;A required field is missing or does not have data in it. The error_subtype holds a array of all the missing fields&#39;</span><span class="p">)</span>
        <span class="n">errors_mapping</span><span class="p">[</span><span class="s1">&#39;PASSWORD_RESET&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">PasswordReset</span><span class="p">(</span><span class="s1">&#39;The password needs to be changed&#39;</span><span class="p">)</span>
        <span class="n">errors_mapping</span><span class="p">[</span><span class="s1">&#39;VALIDATION_FAILED&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ValidationFailed</span><span class="p">(</span><span class="s1">&#39;The session validation failed&#39;</span><span class="p">)</span>
        <span class="n">errors_mapping</span><span class="p">[</span><span class="s1">&#39;WHITELIST_LOCKOUT&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">WhitelistLockout</span><span class="p">(</span><span class="s1">&#39;Login blocked by the account whitelist&#39;</span><span class="p">)</span>
        <span class="n">query_data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;api&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="p">,</span>
            <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s1">&#39;/session/login&#39;</span><span class="p">,</span>
            <span class="s1">&#39;request_data&#39;</span><span class="p">:</span> <span class="n">request_data</span><span class="p">,</span>
            <span class="s1">&#39;errors_mapping&#39;</span><span class="p">:</span> <span class="n">errors_mapping</span><span class="p">,</span>
            <span class="s1">&#39;required_sid&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">QueryO</span><span class="p">(</span><span class="o">**</span><span class="n">query_data</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Session.user"><a class="viewcode-back" href="../../../../../referencies/service_api.html#ambra_sdk.service.entrypoints.Session.user">[docs]</a>    <span class="k">def</span> <span class="nf">user</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">settings</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;User.</span>
<span class="sd">        :param settings: A JSON list of user settings set via /setting/set to return (optional)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request_data</span> <span class="o">=</span> <span class="p">{</span>
           <span class="s1">&#39;settings&#39;</span><span class="p">:</span> <span class="n">settings</span><span class="p">,</span>
        <span class="p">}</span>
	
        <span class="n">errors_mapping</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">query_data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;api&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="p">,</span>
            <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s1">&#39;/session/user&#39;</span><span class="p">,</span>
            <span class="s1">&#39;request_data&#39;</span><span class="p">:</span> <span class="n">request_data</span><span class="p">,</span>
            <span class="s1">&#39;errors_mapping&#39;</span><span class="p">:</span> <span class="n">errors_mapping</span><span class="p">,</span>
            <span class="s1">&#39;required_sid&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">QueryO</span><span class="p">(</span><span class="o">**</span><span class="n">query_data</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Session.permissions"><a class="viewcode-back" href="../../../../../referencies/service_api.html#ambra_sdk.service.entrypoints.Session.permissions">[docs]</a>    <span class="k">def</span> <span class="nf">permissions</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">account_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">namespace_id</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Permissions.</span>
<span class="sd">        :param account_id: account_id</span>
<span class="sd">        :param namespace_id: namespace_id</span>

<span class="sd">        Notes:</span>
<span class="sd">        (account_id OR namespace_id) - Either the account or namespaces to get the users permissions for</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request_data</span> <span class="o">=</span> <span class="p">{</span>
           <span class="s1">&#39;namespace_id&#39;</span><span class="p">:</span> <span class="n">namespace_id</span><span class="p">,</span>
           <span class="s1">&#39;account_id&#39;</span><span class="p">:</span> <span class="n">account_id</span><span class="p">,</span>
        <span class="p">}</span>
	
        <span class="n">errors_mapping</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">query_data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;api&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="p">,</span>
            <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s1">&#39;/session/permissions&#39;</span><span class="p">,</span>
            <span class="s1">&#39;request_data&#39;</span><span class="p">:</span> <span class="n">request_data</span><span class="p">,</span>
            <span class="s1">&#39;errors_mapping&#39;</span><span class="p">:</span> <span class="n">errors_mapping</span><span class="p">,</span>
            <span class="s1">&#39;required_sid&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">QueryO</span><span class="p">(</span><span class="o">**</span><span class="n">query_data</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Session.logout"><a class="viewcode-back" href="../../../../../referencies/service_api.html#ambra_sdk.service.entrypoints.Session.logout">[docs]</a>    <span class="k">def</span> <span class="nf">logout</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Logout.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request_data</span> <span class="o">=</span> <span class="p">{</span>
        <span class="p">}</span>
	
        <span class="n">errors_mapping</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">errors_mapping</span><span class="p">[</span><span class="s1">&#39;MISSING_FIELDS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">MissingFields</span><span class="p">(</span><span class="s1">&#39;A required field is missing or does not have data in it. The error_subtype holds a array of all the missing fields&#39;</span><span class="p">)</span>
        <span class="n">errors_mapping</span><span class="p">[</span><span class="s1">&#39;NOT_FOUND&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">NotFound</span><span class="p">(</span><span class="s1">&#39;The sid was not found&#39;</span><span class="p">)</span>
        <span class="n">query_data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;api&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="p">,</span>
            <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s1">&#39;/session/logout&#39;</span><span class="p">,</span>
            <span class="s1">&#39;request_data&#39;</span><span class="p">:</span> <span class="n">request_data</span><span class="p">,</span>
            <span class="s1">&#39;errors_mapping&#39;</span><span class="p">:</span> <span class="n">errors_mapping</span><span class="p">,</span>
            <span class="s1">&#39;required_sid&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">QueryO</span><span class="p">(</span><span class="o">**</span><span class="n">query_data</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Session.csrf_enable"><a class="viewcode-back" href="../../../../../referencies/service_api.html#ambra_sdk.service.entrypoints.Session.csrf_enable">[docs]</a>    <span class="k">def</span> <span class="nf">csrf_enable</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">redirect_uri</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Csrf enable.</span>
<span class="sd">        :param redirect_uri: The URL to redirect to</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request_data</span> <span class="o">=</span> <span class="p">{</span>
           <span class="s1">&#39;redirect_uri&#39;</span><span class="p">:</span> <span class="n">redirect_uri</span><span class="p">,</span>
        <span class="p">}</span>
	
        <span class="n">errors_mapping</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">errors_mapping</span><span class="p">[</span><span class="s1">&#39;INVALID_URL&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">InvalidUrl</span><span class="p">(</span><span class="s1">&#39;The URL must be a relative URL&#39;</span><span class="p">)</span>
        <span class="n">errors_mapping</span><span class="p">[</span><span class="s1">&#39;MISSING_FIELDS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">MissingFields</span><span class="p">(</span><span class="s1">&#39;A required field is missing or does not have data in it. The error_subtype holds a array of all the missing fields&#39;</span><span class="p">)</span>
        <span class="n">query_data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;api&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="p">,</span>
            <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s1">&#39;/session/csrf/enable&#39;</span><span class="p">,</span>
            <span class="s1">&#39;request_data&#39;</span><span class="p">:</span> <span class="n">request_data</span><span class="p">,</span>
            <span class="s1">&#39;errors_mapping&#39;</span><span class="p">:</span> <span class="n">errors_mapping</span><span class="p">,</span>
            <span class="s1">&#39;required_sid&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">QueryO</span><span class="p">(</span><span class="o">**</span><span class="n">query_data</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Session.uuid"><a class="viewcode-back" href="../../../../../referencies/service_api.html#ambra_sdk.service.entrypoints.Session.uuid">[docs]</a>    <span class="k">def</span> <span class="nf">uuid</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Uuid.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request_data</span> <span class="o">=</span> <span class="p">{</span>
        <span class="p">}</span>
	
        <span class="n">errors_mapping</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">query_data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;api&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="p">,</span>
            <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s1">&#39;/session/uuid&#39;</span><span class="p">,</span>
            <span class="s1">&#39;request_data&#39;</span><span class="p">:</span> <span class="n">request_data</span><span class="p">,</span>
            <span class="s1">&#39;errors_mapping&#39;</span><span class="p">:</span> <span class="n">errors_mapping</span><span class="p">,</span>
            <span class="s1">&#39;required_sid&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">QueryO</span><span class="p">(</span><span class="o">**</span><span class="n">query_data</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Session.oauth_start"><a class="viewcode-back" href="../../../../../referencies/service_api.html#ambra_sdk.service.entrypoints.Session.oauth_start">[docs]</a>    <span class="k">def</span> <span class="nf">oauth_start</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Oauth start.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request_data</span> <span class="o">=</span> <span class="p">{</span>
        <span class="p">}</span>
	
        <span class="n">errors_mapping</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">errors_mapping</span><span class="p">[</span><span class="s1">&#39;NO_OAUTH&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">NoOauth</span><span class="p">(</span><span class="s1">&#39;OAuth is not setup for the associated brand&#39;</span><span class="p">)</span>
        <span class="n">query_data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;api&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="p">,</span>
            <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s1">&#39;/session/oauth/start&#39;</span><span class="p">,</span>
            <span class="s1">&#39;request_data&#39;</span><span class="p">:</span> <span class="n">request_data</span><span class="p">,</span>
            <span class="s1">&#39;errors_mapping&#39;</span><span class="p">:</span> <span class="n">errors_mapping</span><span class="p">,</span>
            <span class="s1">&#39;required_sid&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">QueryO</span><span class="p">(</span><span class="o">**</span><span class="n">query_data</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Session.oauth"><a class="viewcode-back" href="../../../../../referencies/service_api.html#ambra_sdk.service.entrypoints.Session.oauth">[docs]</a>    <span class="k">def</span> <span class="nf">oauth</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">code</span><span class="p">,</span>
        <span class="n">redirect_uri</span><span class="p">,</span>
        <span class="n">vendor</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Oauth.</span>
<span class="sd">        :param code: The OAuth code</span>
<span class="sd">        :param redirect_uri: The redirect_uri used to get the code parameter</span>
<span class="sd">        :param vendor: vendor</span>

<span class="sd">        Notes:</span>
<span class="sd">        vendor - The OAuth vendor (doximity OR google OR brand)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request_data</span> <span class="o">=</span> <span class="p">{</span>
           <span class="s1">&#39;redirect_uri&#39;</span><span class="p">:</span> <span class="n">redirect_uri</span><span class="p">,</span>
           <span class="s1">&#39;code&#39;</span><span class="p">:</span> <span class="n">code</span><span class="p">,</span>
           <span class="s1">&#39;vendor&#39;</span><span class="p">:</span> <span class="n">vendor</span><span class="p">,</span>
        <span class="p">}</span>
	
        <span class="n">errors_mapping</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">errors_mapping</span><span class="p">[</span><span class="s1">&#39;AUTH_FAILED&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">AuthFailed</span><span class="p">(</span><span class="s1">&#39;OAuth failed or a user id was not returned&#39;</span><span class="p">)</span>
        <span class="n">errors_mapping</span><span class="p">[</span><span class="s1">&#39;INVALID_CODE&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">InvalidCode</span><span class="p">(</span><span class="s1">&#39;Invalid code&#39;</span><span class="p">)</span>
        <span class="n">errors_mapping</span><span class="p">[</span><span class="s1">&#39;INVALID_VENDOR&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">InvalidVendor</span><span class="p">(</span><span class="s1">&#39;Invalid vendor&#39;</span><span class="p">)</span>
        <span class="n">errors_mapping</span><span class="p">[</span><span class="s1">&#39;MISSING_FIELDS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">MissingFields</span><span class="p">(</span><span class="s1">&#39;A required field is missing or does not have data in it. The error_subtype holds a array of all the missing fields&#39;</span><span class="p">)</span>
        <span class="n">errors_mapping</span><span class="p">[</span><span class="s1">&#39;MISSING_INFORMATION&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">MissingInformation</span><span class="p">(</span><span class="s1">&#39;The response from the OAuth provider is missing either the email, first_name or last_name fields&#39;</span><span class="p">)</span>
        <span class="n">errors_mapping</span><span class="p">[</span><span class="s1">&#39;NO_OAUTH&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">NoOauth</span><span class="p">(</span><span class="s1">&#39;OAuth is not setup for the associated brand&#39;</span><span class="p">)</span>
        <span class="n">errors_mapping</span><span class="p">[</span><span class="s1">&#39;OTHER_OAUTH&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">OtherOauth</span><span class="p">(</span><span class="s1">&#39;The user is already setup to OAuth via another vendor&#39;</span><span class="p">)</span>
        <span class="n">query_data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;api&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="p">,</span>
            <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s1">&#39;/session/oauth&#39;</span><span class="p">,</span>
            <span class="s1">&#39;request_data&#39;</span><span class="p">:</span> <span class="n">request_data</span><span class="p">,</span>
            <span class="s1">&#39;errors_mapping&#39;</span><span class="p">:</span> <span class="n">errors_mapping</span><span class="p">,</span>
            <span class="s1">&#39;required_sid&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">QueryO</span><span class="p">(</span><span class="o">**</span><span class="n">query_data</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Session.oauth_token"><a class="viewcode-back" href="../../../../../referencies/service_api.html#ambra_sdk.service.entrypoints.Session.oauth_token">[docs]</a>    <span class="k">def</span> <span class="nf">oauth_token</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">client_id</span><span class="p">,</span>
        <span class="n">client_secret</span><span class="p">,</span>
        <span class="n">grant_type</span><span class="p">,</span>
        <span class="n">duration</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Oauth token.</span>
<span class="sd">        :param client_id: The users email address</span>
<span class="sd">        :param client_secret: The users password</span>
<span class="sd">        :param grant_type: The grant type, set to client_credentials</span>
<span class="sd">        :param duration: The number of seconds the token is valid for (optional and defaults to 3600 with a maximum value of 86400)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request_data</span> <span class="o">=</span> <span class="p">{</span>
           <span class="s1">&#39;duration&#39;</span><span class="p">:</span> <span class="n">duration</span><span class="p">,</span>
           <span class="s1">&#39;client_secret&#39;</span><span class="p">:</span> <span class="n">client_secret</span><span class="p">,</span>
           <span class="s1">&#39;grant_type&#39;</span><span class="p">:</span> <span class="n">grant_type</span><span class="p">,</span>
           <span class="s1">&#39;client_id&#39;</span><span class="p">:</span> <span class="n">client_id</span><span class="p">,</span>
        <span class="p">}</span>
	
        <span class="n">errors_mapping</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">errors_mapping</span><span class="p">[</span><span class="s1">&#39;AUTH_FAILED&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">AuthFailed</span><span class="p">(</span><span class="s1">&#39;Authentication failed&#39;</span><span class="p">)</span>
        <span class="n">errors_mapping</span><span class="p">[</span><span class="s1">&#39;LOCKOUT&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Lockout</span><span class="p">(</span><span class="s1">&#39;Too many failed attempts&#39;</span><span class="p">)</span>
        <span class="n">errors_mapping</span><span class="p">[</span><span class="s1">&#39;MISSING_FIELDS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">MissingFields</span><span class="p">(</span><span class="s1">&#39;A required field is missing or does not have data in it. The error_subtype holds a array of all the missing fields&#39;</span><span class="p">)</span>
        <span class="n">query_data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;api&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="p">,</span>
            <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s1">&#39;/session/oauth/token&#39;</span><span class="p">,</span>
            <span class="s1">&#39;request_data&#39;</span><span class="p">:</span> <span class="n">request_data</span><span class="p">,</span>
            <span class="s1">&#39;errors_mapping&#39;</span><span class="p">:</span> <span class="n">errors_mapping</span><span class="p">,</span>
            <span class="s1">&#39;required_sid&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">QueryO</span><span class="p">(</span><span class="o">**</span><span class="n">query_data</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Session.pin"><a class="viewcode-back" href="../../../../../referencies/service_api.html#ambra_sdk.service.entrypoints.Session.pin">[docs]</a>    <span class="k">def</span> <span class="nf">pin</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">pin</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Pin.</span>
<span class="sd">        :param pin: The PIN</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request_data</span> <span class="o">=</span> <span class="p">{</span>
           <span class="s1">&#39;pin&#39;</span><span class="p">:</span> <span class="n">pin</span><span class="p">,</span>
        <span class="p">}</span>
	
        <span class="n">errors_mapping</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">errors_mapping</span><span class="p">[</span><span class="s1">&#39;INVALID_PIN&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">InvalidPin</span><span class="p">(</span><span class="s1">&#39;Invalid PIN&#39;</span><span class="p">)</span>
        <span class="n">errors_mapping</span><span class="p">[</span><span class="s1">&#39;INVALID_SID&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">InvalidSid</span><span class="p">(</span><span class="s1">&#39;Invalid sid&#39;</span><span class="p">)</span>
        <span class="n">errors_mapping</span><span class="p">[</span><span class="s1">&#39;MISSING_FIELDS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">MissingFields</span><span class="p">(</span><span class="s1">&#39;A required field is missing or does not have data in it. The error_subtype holds a array of all the missing fields&#39;</span><span class="p">)</span>
        <span class="n">errors_mapping</span><span class="p">[</span><span class="s1">&#39;PIN_EXPIRED&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">PinExpired</span><span class="p">(</span><span class="s1">&#39;The PIN has expired&#39;</span><span class="p">)</span>
        <span class="n">query_data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;api&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="p">,</span>
            <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s1">&#39;/session/pin&#39;</span><span class="p">,</span>
            <span class="s1">&#39;request_data&#39;</span><span class="p">:</span> <span class="n">request_data</span><span class="p">,</span>
            <span class="s1">&#39;errors_mapping&#39;</span><span class="p">:</span> <span class="n">errors_mapping</span><span class="p">,</span>
            <span class="s1">&#39;required_sid&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">QueryO</span><span class="p">(</span><span class="o">**</span><span class="n">query_data</span><span class="p">)</span></div>
    
<div class="viewcode-block" id="Session.ttl"><a class="viewcode-back" href="../../../../../referencies/service_api.html#ambra_sdk.service.entrypoints.Session.ttl">[docs]</a>    <span class="k">def</span> <span class="nf">ttl</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Ttl.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">request_data</span> <span class="o">=</span> <span class="p">{</span>
        <span class="p">}</span>
	
        <span class="n">errors_mapping</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">errors_mapping</span><span class="p">[</span><span class="s1">&#39;EXPIRED&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Expired</span><span class="p">(</span><span class="s1">&#39;Expired&#39;</span><span class="p">)</span>
        <span class="n">errors_mapping</span><span class="p">[</span><span class="s1">&#39;MISSING_FIELDS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">MissingFields</span><span class="p">(</span><span class="s1">&#39;A required field is missing or does not have data in it. The error_subtype holds a array of all the missing fields&#39;</span><span class="p">)</span>
        <span class="n">query_data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;api&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_api</span><span class="p">,</span>
            <span class="s1">&#39;url&#39;</span><span class="p">:</span> <span class="s1">&#39;/session/ttl&#39;</span><span class="p">,</span>
            <span class="s1">&#39;request_data&#39;</span><span class="p">:</span> <span class="n">request_data</span><span class="p">,</span>
            <span class="s1">&#39;errors_mapping&#39;</span><span class="p">:</span> <span class="n">errors_mapping</span><span class="p">,</span>
            <span class="s1">&#39;required_sid&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">QueryO</span><span class="p">(</span><span class="o">**</span><span class="n">query_data</span><span class="p">)</span></div>
    
</pre></div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../../../index.html">Ambra-SDK</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../quickstart.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../referencies/index.html">Reference</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../../../index.html">Documentation overview</a><ul>
  <li><a href="../../../../index.html">Module code</a><ul>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2020, Ambrahealth AI team.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.4.4</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
    </div>

    

    
  </body>
</html>
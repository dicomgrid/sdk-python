""" Npi.

Do not edit this file by hand.
This is generated by parsing api.html service doc.
"""
from ambra_sdk.exceptions.service import LookupFailed
from ambra_sdk.exceptions.service import MissingFields
from ambra_sdk.service.query import QueryO

class Npi:
    """Npi."""

    def __init__(self, api):
        self._api = api

    
    def find(
        self,
        last,
        state,
        first=None,
        zip=None,
    ):
        """Find.
        :param last: Last name
        :param state: 2 letter state code
        :param first: First name (optional)
        :param zip: Zip code (optional)
        """
        request_data = {
           'first': first,
           'last': last,
           'state': state,
           'zip': zip,
        }
	
        errors_mapping = {}
        errors_mapping[('LOOKUP_FAILED', None)] = LookupFailed('The lookup against the NPI registry failed')
        errors_mapping[('MISSING_FIELDS', None)] = MissingFields('A required field is missing or does not have data in it. The error_subtype holds a array of all the missing fields')
        query_data = {
            'api': self._api,
            'url': '/npi/find',
            'request_data': request_data,
            'errors_mapping': errors_mapping,
            'required_sid': True,
        }
        return QueryO(**query_data)
    